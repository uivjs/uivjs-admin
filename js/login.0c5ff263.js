(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"8c00":function(e,t,s){e.exports=s.p+"img/bg.6aed244d.jpg"},d2cc:function(e,t,s){e.exports=s.p+"img/logo.b3d423a9.png"},efcf:function(e,t,s){"use strict";s.r(t);var n=s("7a23");function a(e,t,s,a,r,u){var l=Object(n["v"])("login");return Object(n["r"])(),Object(n["c"])(l,{title:"请登录",username:e.username,password:"wsdW23",onSubmit:e.submit,ref:"login"},null,8,["username","onSubmit"])}var r=s("a559"),u=s.n(r),l=function(){return l=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var a in t=arguments[s],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},i=function(){function e(e){var t=this;void 0===e&&(e={}),this.fields={},this.rules={},this.values={},this.messagesShown=!1,this.errorMessages={},this.showMessages=function(){return t.messagesShown=!0},this.hideMessages=function(){return t.messagesShown=!1},this.getForm=function(){return t.form},this.setForm=function(e){t.form=e,t.values={};var s=new FormData(t.form);s.forEach((function(e,n){var a=s.getAll(n),r=t.form[n];r&&("checkbox"===r.type?t.values[n]=r.checked:r.multiple?t.values[n]=a:r.type?t.values[n]=s.get(n):a.length>0&&!r.value?t.values[n]=a:t.values[n]=r.value),t.message(n,t.values[n],t.rules[n])})),t.initValues||(t.initValues=t.values)},this.message=function(e,s,n){t.fields[e]=!0,t.values[e]=s,n&&(t.rules[e]=n);var a=(t.rules[e]||{}).validate,r="";if(t.validate&&(r=t.validate(t.values[e],t.values,e)),a&&(r=a(t.values[e],t.values,e)),r?(t.fields[e]=!1,t.errorMessages[e]=r):delete t.errorMessages[e],t.messagesShown)return t.errorMessages[e]},this.setValues=function(e){if(void 0===e&&(e={}),!t.form)for(var s in e)t.message(s,e[s])},this.getValues=function(){return t.form&&t.setForm(t.form),t.values},this.reset=function(){return t.values=l({},t.initValues),t.errorMessages={},t.messagesShown=!1,t.fields={},t.form&&t.form.reset(),l({},t.values)},this.fieldValid=function(e){return!0===t.fields[e]};var s=e.form,n=e.rules,a=e.initValues,r=e.messagesShown,u=e.validate;this.messagesShown=!!r,this.rules=n||{},this.validate=u,a&&(this.values=l({},a),this.initValues=l({},a)),s&&this.setForm(s)}return e.prototype.allValid=function(){for(var e in this.values)this.message(e,this.values[e],this.rules[e]);for(var t in this.fields)if(!1===this.fieldValid(t))return!1;return!0},e}(),o={title:{type:String,default:"登录"},username:{type:String},password:{type:String},onSubmit:{type:Function,default:e=>e.preventDefault()},onReset:{type:Function,default:e=>e.preventDefault()},onChange:{type:Function,default:e=>e.preventDefault()},onInput:{type:Function,default:e=>e.preventDefault()},onBlur:{type:Function,default:e=>e.preventDefault()},onFocus:{type:Function,default:e=>e.preventDefault()}},c=Object(n["i"])({props:o,setup(e,t){var{}=t,{onSubmit:s,onInput:a}=e,r=Object(n["t"])({username:"",password:""}),u=new i({initValues:{username:e.username,password:e.password},rules:{username:{validate:e=>!e||"string"===typeof e&&(e.length>15||e.length<5)?"用户名长度在 6 ～15 位！":""},password:{validate:function(e){return void 0===e&&(e=""),"string"!==typeof e||/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,10}$/.test(e)?"":"必须包含大小写字母和数字的组合，长度在 6-10 之间！"}}}});Object(n["y"])(()=>e.username,e=>{u.message("username",e)}),Object(n["y"])(()=>e.password,e=>{u.message("password",e)});var l=e=>{e.preventDefault();var t=u.allValid();u.showMessages();var n=u.getValues();for(var a in u.fields)r[a]=u.errorMessages[a];t&&s&&s(e,n)},o=e=>{var t=e.target,s="checkbox"===t.type?t.checked:t.value,n=t.name;u.message(n,s),u.allValid(),a&&a(e)};return()=>{var{onReset:t,onChange:s,onBlur:a,onFocus:i}=e;return Object(n["h"])("form",Object(n["m"])({class:"uiv-login-form",onInput:e=>o(e)},{onSubmit:l,onReset:t,onChange:s,onBlur:a,onFocus:i}),[Object(n["h"])("h2",null,[e.title]),Object(n["h"])("div",{class:"uiv-login-field"},[Object(n["h"])("label",null,[Object(n["h"])("input",{class:r.username?"error":"",type:"text",name:"username",value:u.values.username,placeholder:"请输入账号"},null)]),Object(n["h"])("div",null,[u.errorMessages.username])]),Object(n["h"])("div",{class:"uiv-login-field"},[Object(n["h"])("label",null,[Object(n["h"])("input",{class:r.password?"error":"",type:"password",name:"password",value:u.values.password,placeholder:"请输入密码"},null)]),Object(n["h"])("div",null,[u.errorMessages.password])]),Object(n["h"])("div",{class:"uiv-login-button"},[Object(n["h"])("button",{type:"submit"},[Object(n["g"])("登录")]),!!e.onReset&&Object(n["h"])("button",{type:"reset"},[Object(n["g"])("重置")])])])}}}),v=(s("f934"),s("8c00")),f=s.n(v),d=s("d2cc"),p=s.n(d),g=u()({bgURL:{type:String,default:f.a},logoURL:{type:String,default:p.a}},o),h=Object(n["i"])({name:"uiv-login",props:g,setup(e,t){var{slots:s}=t;return()=>{var{title:t,password:a,username:r,onSubmit:u,onReset:l,bgURL:i,logoURL:o}=e;return Object(n["h"])("div",{class:"uiv-login-wrapper",style:{}},[Object(n["h"])("div",{style:{backgroundImage:"url("+i+")"}},null),Object(n["h"])("div",null,[Object(n["h"])("div",{class:"uiv-login-logo"},[Object(n["h"])("img",{src:o},null)]),s.default?s.default():Object(n["h"])(c,{title:t,password:a,username:r,onSubmit:u,onReset:l},null)])])}}}),m=Object(n["i"])({components:{Login:h},data:function(){return{username:"admin"}},setup:function(){var e=Object(n["u"])(null),t=function(e){console.log("1111",e)};return{login:e,submit:t}}}),b=s("6b0d"),j=s.n(b);const w=j()(m,[["render",a]]);t["default"]=w},f934:function(e,t,s){}}]);
//# sourceMappingURL=login.0c5ff263.js.map